<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            user-select: none;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #counter {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 120px;
            font-weight: bold;
            color: white;
            text-shadow: 0 0 30px rgba(0,0,0,0.5);
            font-family: Arial, sans-serif;
            z-index: 10;
            transition: transform 0.1s ease;
        }

        #counter.bounce {
            animation: bounce 0.3s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
        }

        #youtube-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            pointer-events: none;
            opacity: 0;
            transition: opacity 1s ease;
        }

        #youtube-container.active {
            opacity: 1;
        }

        #youtube-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .particle {
            position: absolute;
            pointer-events: none;
            width: 10px;
            height: 10px;
            background: radial-gradient(circle, white, transparent);
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.6), transparent);
            pointer-events: none;
            transform: translate(-50%, -50%);
            animation: rippleEffect 0.6s ease-out forwards;
        }

        @keyframes rippleEffect {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div id="counter">0</div>
    <div id="youtube-container"></div>

    <script>
        let count = 0;
        let isVideoPlaying = false;
        let mouseX = 0;
        let mouseY = 0;
        
        const counter = document.getElementById('counter');
        const youtubeContainer = document.getElementById('youtube-container');
        const body = document.body;
        
        // YouTube video IDs (popular short videos)
        const videoIds = [
            'dQw4w9WgXcQ', // Rick Roll
            'kJQP7kiw5Fk', // Despacito
            'CevxZvSJLk8', // Roar
            'YQHsXMglC9A', // Hello
            'fJ9rUzIMcZQ', // Bohemian Rhapsody
            'JGwWNGJdvx8', // Shape of You
            'RgKAFK5djSk', // See You Again
            'SlPhMPnQ58k', // Memories
            'bo_efYhYU2A', // Peaches
            '60ItHLz5WEA' // Faded
        ];
        
        // Track mouse position
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Update gradient based on mouse position
            const hue1 = (mouseX / window.innerWidth) * 360;
            const hue2 = (mouseY / window.innerHeight) * 360;
            const gradient = `linear-gradient(${hue1}deg, 
                hsl(${hue1}, 70%, 60%), 
                hsl(${hue2}, 70%, 50%), 
                hsl(${(hue1 + hue2) / 2}, 80%, 65%), 
                hsl(${hue2 + 60}, 70%, 55%))`;
            body.style.background = gradient;
            body.style.backgroundSize = '400% 400%';
        });
        
        // Click handler
        document.addEventListener('click', (e) => {
            if (isVideoPlaying) return;
            
            count++;
            counter.textContent = count;
            
            // Bounce animation
            counter.classList.remove('bounce');
            void counter.offsetWidth; // Force reflow
            counter.classList.add('bounce');
            
            // Create effects based on click position
            createClickEffects(e.clientX, e.clientY);
            
            // Random chance to play YouTube video
            if (Math.random() < 0.1) { // 10% chance
                playRandomVideo();
            }
        });
        
        function createClickEffects(x, y) {
            // Create ripple effect
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            body.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
            
            // Create particle explosion
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                // Random color
                const hue = Math.random() * 360;
                particle.style.background = `radial-gradient(circle, hsl(${hue}, 100%, 70%), transparent)`;
                
                // Random direction
                const angle = (Math.PI * 2 * i) / 20 + (Math.random() - 0.5) * 0.5;
                const velocity = 100 + Math.random() * 150;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;
                
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                
                body.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
            
            // Random background flash
            if (Math.random() < 0.3) {
                const originalBg = body.style.background;
                const flashHue = Math.random() * 360;
                body.style.background = `hsl(${flashHue}, 100%, 80%)`;
                setTimeout(() => {
                    body.style.background = originalBg;
                }, 100);
            }
        }
        
        function playRandomVideo() {
            if (isVideoPlaying) return;
            
            isVideoPlaying = true;
            const videoId = videoIds[Math.floor(Math.random() * videoIds.length)];
            
            // Create YouTube iframe
            const iframe = document.createElement('iframe');
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&controls=0&showinfo=0&rel=0&modestbranding=1&enablejsapi=1`;
            iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
            
            youtubeContainer.innerHTML = '';
            youtubeContainer.appendChild(iframe);
            youtubeContainer.classList.add('active');
            
            // YouTube API to detect when video ends
            let checkInterval = setInterval(() => {
                try {
                    iframe.contentWindow.postMessage('{"event":"listening"}', '*');
                } catch (e) {}
            }, 100);
            
            // Set a timeout to remove video (approximate video length)
            setTimeout(() => {
                clearInterval(checkInterval);
                youtubeContainer.classList.remove('active');
                setTimeout(() => {
                    youtubeContainer.innerHTML = '';
                    isVideoPlaying = false;
                }, 1000);
            }, 30000); // 30 seconds default
        }
        
        // Listen for YouTube player state changes
        window.addEventListener('message', (event) => {
            if (event.data && typeof event.data === 'string') {
                try {
                    const data = JSON.parse(event.data);
                    if (data.event === 'onStateChange' && data.info === 0) { // Video ended
                        youtubeContainer.classList.remove('active');
                        setTimeout(() => {
                            youtubeContainer.innerHTML = '';
                            isVideoPlaying = false;
                        }, 1000);
                    }
                } catch (e) {}
            }
        });
    </script>
</body>
</html>